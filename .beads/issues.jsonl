{"id":"bee-03y","title":"Convert journal to first bee (journal-bee)","description":"Migrate existing compose.sh/accept.sh implementation to Agent Skills format.\n\n## Migration\n- compose.sh context gathering â†’ journal-bee/scripts/gather-context.sh\n- compose.sh prompt/instructions â†’ journal-bee/SKILL.md\n- accept.sh notification flow â†’ App handles natively\n- journal.md stays at current location\n\n## SKILL.md Structure\n```yaml\n---\nname: journal-bee\ndescription: Ambient journaling bee that gathers system context and composes reflective entries\nallowed-tools: Read Write Bash WebSearch\n---\n# Journal Bee\n...\n```\n\n## Deprecate\n- com.bee.compose.plist (launchd)\n- compose.sh, accept.sh, pending.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T09:00:41.046929-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:12:20.894265-05:00","closed_at":"2026-01-02T10:12:20.894265-05:00","close_reason":"Already implemented","dependencies":[{"issue_id":"bee-03y","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.636171-05:00","created_by":"nicktrombley"},{"issue_id":"bee-03y","depends_on_id":"bee-abz","type":"blocks","created_at":"2026-01-02T09:01:31.360378-05:00","created_by":"nicktrombley"}]}
{"id":"bee-08v","title":"Test bee for end-to-end verification","description":"Simple test-bee that verifies the confirmation flow works. Enabled during development, can be disabled in production.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:09:18.386914-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T13:57:00.89288-05:00","closed_at":"2026-01-02T13:57:00.89288-05:00","close_reason":"Created test-bee in ~/.bee/test-bee for end-to-end confirmation flow testing"}
{"id":"bee-0s9","title":"Timer-based scheduling with cron evaluation","description":"Implement cron expression parsing and timer-based bee scheduling.\n\n## Files to Create\n- Bee/Scheduler.swift - Cron evaluation, timer management\n\n## Requirements\n- Parse standard cron syntax (5 fields)\n- Fire timers at correct intervals\n- Handle overlap: skip (default), queue, parallel per bee config\n- Pause all bees (manual DND toggle)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:59:48.381589-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:58:17.402251-05:00","closed_at":"2026-01-02T09:58:17.402251-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-0s9","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.513234-05:00","created_by":"nicktrombley"},{"issue_id":"bee-0s9","depends_on_id":"bee-n3x","type":"blocks","created_at":"2026-01-02T09:01:31.114866-05:00","created_by":"nicktrombley"}]}
{"id":"bee-25c","title":"Full history viewer with search","description":"[FUTURE] Dedicated history window for browsing past bee runs.\n\n## Features\n- Search across all runs\n- Filter by bee, status, date range\n- Full log viewer\n- Export/share runs\n\n## Deferred\nMVP has drill-down per bee. This is enhanced history browsing.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T09:01:05.232236-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:01:05.232236-05:00","dependencies":[{"issue_id":"bee-25c","depends_on_id":"bee-hg4","type":"blocks","created_at":"2026-01-02T09:01:33.108242-05:00","created_by":"nicktrombley"}]}
{"id":"bee-33m","title":"Basic dropdown UI with bee list and status","description":"Build the menu bar dropdown interface showing all bees.\n\n## Files to Create\n- Bee/MenuBarView.swift - Dropdown UI\n\n## UI Structure\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ğŸ Bee                          â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ â–¶ journal-bee      â—  5m ago   â”‚\nâ”‚   another-bee      â—‹  disabled â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ â¸ Pause All                    â”‚\nâ”‚ âš™ Preferences...    âŒ˜,         â”‚\nâ”‚ Quit Bee            âŒ˜Q         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Requirements\n- Show enabled/disabled state\n- Show last run time\n- Show running indicator\n- Aggregate status in menu bar icon (badges)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:00:40.700219-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:12:15.360761-05:00","closed_at":"2026-01-02T10:12:15.360761-05:00","close_reason":"Already implemented","dependencies":[{"issue_id":"bee-33m","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.56193-05:00","created_by":"nicktrombley"},{"issue_id":"bee-33m","depends_on_id":"bee-3a8","type":"blocks","created_at":"2026-01-02T09:01:31.189414-05:00","created_by":"nicktrombley"},{"issue_id":"bee-33m","depends_on_id":"bee-n3x","type":"blocks","created_at":"2026-01-02T09:01:31.214255-05:00","created_by":"nicktrombley"}]}
{"id":"bee-3a8","title":"Auto-discover bees from ~/.bee/","description":"Scan ~/.bee/ folder for valid bee directories containing SKILL.md files.\n\n## Files to Create\n- Bee/HiveManager.swift - Bee discovery logic\n\n## Requirements\n- Watch ~/.bee/ for changes (add/remove bee folders)\n- Validate SKILL.md exists and has valid frontmatter\n- Parse Agent Skills spec fields: name, description, allowed-tools\n- Surface validation errors to user","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:59:48.171064-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:41:08.33679-05:00","closed_at":"2026-01-02T09:41:08.33679-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-3a8","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.463131-05:00","created_by":"nicktrombley"},{"issue_id":"bee-3a8","depends_on_id":"bee-5aj","type":"blocks","created_at":"2026-01-02T09:01:31.063162-05:00","created_by":"nicktrombley"}]}
{"id":"bee-5aj","title":"SwiftUI menu bar app shell","description":"Create the foundational SwiftUI menu bar application.\n\n## Files to Create\n- Bee.xcodeproj/ - Xcode project\n- Bee/BeeApp.swift - App entry, menu bar setup\n\n## Requirements\n- Menu bar icon with states: idle, running, pending, error\n- Basic dropdown structure\n- Launch at login option\n- Quit menu item","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:59:48.069172-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:37:34.988736-05:00","closed_at":"2026-01-02T09:37:34.988736-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-5aj","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.437307-05:00","created_by":"nicktrombley"}]}
{"id":"bee-abz","title":"Claude CLI subprocess execution","description":"Execute bees by spawning Claude CLI as a subprocess.\n\n## Files to Create\n- Bee/BeeRunner.swift - CLI subprocess execution\n\n## Execution Flow\n1. Run scripts from scripts/ folder for context gathering\n2. Invoke: claude --print --allowedTools \"...\" --systemPrompt \"$(cat SKILL.md)\" ...\n3. Capture output for logging\n4. Handle timeouts and errors\n\n## Requirements\n- Pass allowed-tools from SKILL.md frontmatter via CLI flag\n- Stream or capture output\n- Write logs to ~/.bee/logs/{bee-name}/{timestamp}.log","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:00:40.590466-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:12:07.885724-05:00","closed_at":"2026-01-02T10:12:07.885724-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-abz","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.537177-05:00","created_by":"nicktrombley"},{"issue_id":"bee-abz","depends_on_id":"bee-0s9","type":"blocks","created_at":"2026-01-02T09:01:31.139652-05:00","created_by":"nicktrombley"},{"issue_id":"bee-abz","depends_on_id":"bee-3a8","type":"blocks","created_at":"2026-01-02T09:01:31.164857-05:00","created_by":"nicktrombley"}]}
{"id":"bee-b3n","title":"Add additional context sources","description":"Future ideas for context to feed Claude:\n- Recent shell history\n- Git activity  \n- Calendar events\n- Music playing\n- Screen time / active app","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-01T13:57:22.144215-05:00","created_by":"nicktrombley","updated_at":"2026-01-01T13:57:22.144215-05:00"}
{"id":"bee-bgg","title":"Per-bee custom SF Symbol icon","description":"Allow each bee to have a custom icon from SF Symbols.\n\n## Implementation\n- Add `metadata.icon` field in SKILL.md frontmatter (e.g., `icon: book.fill`)\n- Fall back to `ant` if not specified\n- Display in bee list row and detail view header\n\n## Example SKILL.md\n```yaml\n---\nname: journal-bee\ndescription: Composes prose poetry journal entries\nmetadata:\n  display-name: Journal\n  icon: book.fill\n---\n```\n\n## Considerations\n- Validate that the icon name exists in SF Symbols\n- Could also support custom image assets in bee's assets/ folder (future)\n- Menu bar app icon stays as ant (or user preference in settings)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-02T10:17:00.953143-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:18:43.654712-05:00","closed_at":"2026-01-02T10:18:43.654712-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-bgg","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T10:17:05.735792-05:00","created_by":"nicktrombley"}]}
{"id":"bee-bqe","title":"Immediate error notifications","description":"Show macOS notifications when bees fail.\n\n## Requirements\n- Native macOS notification on first failure\n- Include bee name and error summary\n- Click notification opens logs folder or detail view\n- Badge menu bar icon with error count","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:00:40.933302-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:31:30.875016-05:00","closed_at":"2026-01-02T10:31:30.875016-05:00","close_reason":"Implemented NotificationManager with error notifications via UserNotifications framework","dependencies":[{"issue_id":"bee-bqe","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.611517-05:00","created_by":"nicktrombley"},{"issue_id":"bee-bqe","depends_on_id":"bee-abz","type":"blocks","created_at":"2026-01-02T09:01:31.285793-05:00","created_by":"nicktrombley"}]}
{"id":"bee-cet","title":"CLI abstraction layer for multi-CLI support","description":"Refactor BeeRunner to use a protocol-based CLI abstraction.\n\n## Motivation\nEach CLI (claude, codex, cursor) has different:\n- Command line flags (--print vs --quiet, --system-prompt vs --instructions)\n- Model names (opus/sonnet/haiku vs o3/o1)\n- Tool allowlist syntax\n- Capabilities\n\n## Proposed Design\n```swift\nprotocol AgentCLI {\n    var name: String { get }\n    var executableName: String { get }\n    var supportedModels: [String] { get }\n    func buildArguments(skill: String, context: String, model: String?, allowedTools: [String]) -\u003e [String]\n}\n```\n\n## Implementations\n- ClaudeCLI: --print, --model, --system-prompt, --allowedTools\n- CodexCLI: --quiet, --model, --instructions (TBD)\n- CursorCLI: --headless (TBD)\n\n## Requirements\n- Registry of available CLIs\n- Model picker should show CLI-specific models\n- Graceful fallback if CLI not installed","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T12:45:55.463796-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T12:45:55.463796-05:00"}
{"id":"bee-ci1","title":"Preferences window (âŒ˜,)","description":"Standard macOS preferences window for app settings.\n\n## Files to Create\n- Bee/PreferencesView.swift - Settings window\n\n## Settings\n- Default CLI selection (claude/codex/cursor)\n- Hive folder location (~/.bee/ default)\n- Default overlap behavior (skip/queue/parallel)\n- 'Reveal hive.yaml' button\n- Launch at login toggle","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:01:04.720538-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:01:04.720538-05:00","dependencies":[{"issue_id":"bee-ci1","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.660691-05:00","created_by":"nicktrombley"},{"issue_id":"bee-ci1","depends_on_id":"bee-n3x","type":"blocks","created_at":"2026-01-02T09:01:31.335058-05:00","created_by":"nicktrombley"}]}
{"id":"bee-d0y","title":"Multi-CLI support (codex, cursor)","description":"[FUTURE] Support agent CLIs beyond Claude.\n\n## CLIs to Support\n| CLI | Invocation | Notes |\n|-----|------------|-------|\n| claude | claude --print --allowedTools ... | Default (MVP) |\n| codex | codex --quiet ... | OpenAI |\n| cursor | cursor --headless ... | Cursor agent mode |\n\n## Requirements\n- Global default in hive.yaml\n- Per-bee override\n- Detect installed CLIs\n\n## Deferred\nMVP supports Claude only. Architecture should allow easy extension.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T09:01:05.128893-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:01:05.128893-05:00","dependencies":[{"issue_id":"bee-d0y","depends_on_id":"bee-abz","type":"blocks","created_at":"2026-01-02T09:01:33.082939-05:00","created_by":"nicktrombley"},{"issue_id":"bee-d0y","depends_on_id":"bee-cet","type":"blocks","created_at":"2026-01-02T12:46:02.178146-05:00","created_by":"nicktrombley"}]}
{"id":"bee-dqu","title":"Per-bee model selection","description":"Allow configuring the model per-bee (e.g., sonnet, haiku) for headless mode. Add 'model' field to BeeConfig and pass --model flag to Claude CLI.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T12:43:15.008053-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T12:46:02.204772-05:00","closed_at":"2026-01-02T12:46:02.204772-05:00","close_reason":"Implemented per-bee model selection with UI picker in detail view"}
{"id":"bee-ekc","title":"Manual trigger via context menu","description":"Allow users to manually run bees via right-click/context menu.\n\n## Requirements\n- Right-click on bee in dropdown shows context menu\n- 'Run Now' option triggers immediate execution\n- Respect overlap settings\n- Show confirmation or feedback on trigger","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:00:40.811992-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:12:15.359261-05:00","closed_at":"2026-01-02T10:12:15.359261-05:00","close_reason":"Already implemented","dependencies":[{"issue_id":"bee-ekc","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.586645-05:00","created_by":"nicktrombley"},{"issue_id":"bee-ekc","depends_on_id":"bee-33m","type":"blocks","created_at":"2026-01-02T09:01:31.238126-05:00","created_by":"nicktrombley"},{"issue_id":"bee-ekc","depends_on_id":"bee-abz","type":"blocks","created_at":"2026-01-02T09:01:31.261491-05:00","created_by":"nicktrombley"}]}
{"id":"bee-hg4","title":"Bee detail drill-down view","description":"Expandable detail view for each bee showing history and controls.\n\n## Requirements\n- Recent runs with status/duration\n- 'Open Logs Folder' button\n- Enable/disable toggle\n- Schedule display\n- 'Run Now' button","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:01:04.824951-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T10:16:34.018968-05:00","closed_at":"2026-01-02T10:16:34.018968-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-hg4","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.684609-05:00","created_by":"nicktrombley"},{"issue_id":"bee-hg4","depends_on_id":"bee-33m","type":"blocks","created_at":"2026-01-02T09:01:31.31009-05:00","created_by":"nicktrombley"}]}
{"id":"bee-jht","title":"Shared context store between bees","description":"[FUTURE] Allow bees to read from/write to a common context store.\n\n## Concept\n- Central store bees can access\n- One bee's output can inform another\n- Maintains bee isolation while enabling coordination\n\n## Deferred\nThis is a future enhancement, not part of MVP. Document clear path to implementation.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T09:01:05.028958-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:01:05.028958-05:00","dependencies":[{"issue_id":"bee-jht","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:33.057807-05:00","created_by":"nicktrombley"}]}
{"id":"bee-m25","title":"Make interval configurable","description":"Currently hardcoded to 60s in plist. Consider:\n- Config file for interval\n- Or just document how to change it in the plist\n- Maybe bump back to 5 minutes (300s) once testing is done","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-01T13:57:29.677533-05:00","created_by":"nicktrombley","updated_at":"2026-01-01T13:57:29.677533-05:00"}
{"id":"bee-mev","title":"Bee v2: macOS Menu Bar App","description":"Pivot from shell-based ambient journaling to a native SwiftUI menu bar app that manages multiple beesâ€”scheduled AI agents following the Agent Skills specification.\n\n## Key Decisions\n- **App shell**: Native Swift/SwiftUI menu bar app\n- **Bee discovery**: Auto-scan ~/.bee/ folder\n- **Config**: hive.yaml (GUI-managed) + SKILL.md per bee (Agent Skills spec)\n- **Scheduling**: App manages timers, cron syntax\n- **Execution**: Claude CLI subprocess (extensible to codex/cursor)\n- **Guardrails**: Tool allowlists via CLI flag\n\n## Architecture\n```\n~/.bee/\nâ”œâ”€â”€ hive.yaml              # Central manifest\nâ”œâ”€â”€ journal-bee/           # First bee (migrated)\nâ”‚   â”œâ”€â”€ SKILL.md\nâ”‚   â””â”€â”€ scripts/\nâ””â”€â”€ logs/\n```\n\nSee plan: ~/.claude/plans/cheeky-questing-sutherland.md","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2026-01-02T08:59:17.951649-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:17:50.274462-05:00"}
{"id":"bee-n3x","title":"Parse hive.yaml for schedules and config","description":"Parse and manage the central hive.yaml configuration file.\n\n## Schema\n```yaml\nversion: 1\ndefaults:\n  cli: claude\n  overlap: skip\nbees:\n  journal-bee:\n    enabled: true\n    schedule: \"*/5 * * * *\"\n```\n\n## Requirements\n- Create hive.yaml on first launch if missing\n- Auto-update when GUI changes settings\n- Validate schema\n- Merge discovered bees with config (add new, preserve settings)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:59:48.273524-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:52:29.732688-05:00","closed_at":"2026-01-02T09:52:29.732688-05:00","close_reason":"Closed","dependencies":[{"issue_id":"bee-n3x","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:28.488362-05:00","created_by":"nicktrombley"},{"issue_id":"bee-n3x","depends_on_id":"bee-5aj","type":"blocks","created_at":"2026-01-02T09:01:31.089843-05:00","created_by":"nicktrombley"}]}
{"id":"bee-nv8","title":"Opt-in memory (access previous runs)","description":"[FUTURE] Allow bees to access their previous run context.\n\n## Config\n```yaml\nbees:\n  some-bee:\n    memory: 5  # Access last 5 runs\n```\n\n## Requirements\n- Store run context/output in retrievable format\n- Inject previous context into prompt\n- Configurable retention\n\n## Deferred\nMVP runs are stateless. This enables continuity.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T09:01:05.336193-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:01:05.336193-05:00","dependencies":[{"issue_id":"bee-nv8","depends_on_id":"bee-abz","type":"blocks","created_at":"2026-01-02T09:01:33.132965-05:00","created_by":"nicktrombley"}]}
{"id":"bee-oiq","title":"Make bee system prompt mode configurable","description":"Add config to choose append vs replace system prompt when running Claude CLI for bees (default TBD). Evaluate impact on Agent Skills compliance vs Claude defaults.","acceptance_criteria":"Config flag in hive/bee config; BeeRunner picks correct CLI flag; docs updated; backwards-compatible default chosen.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T13:22:12.121222-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T13:22:12.121222-05:00"}
{"id":"bee-pj0","title":"Event triggers (file watchers, git hooks)","description":"[FUTURE] Allow bees to trigger on events beyond schedules.\n\n## Potential Triggers\n- File system changes (FSEvents)\n- Git hooks (post-commit, post-checkout)\n- Application launch/quit\n- Time-based conditions (after idle, on wake)\n\n## Deferred\nThis is a future enhancement, not part of MVP.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T09:01:04.923668-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T09:01:04.923668-05:00","dependencies":[{"issue_id":"bee-pj0","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T09:01:33.030485-05:00","created_by":"nicktrombley"}]}
{"id":"bee-tfl","title":"User confirmation flow via notifications","description":"User confirmation protocol allowing bees to request confirmation from users via native macOS notification action buttons.\n\n## MVP Scope (Binary Confirm/Reject)\n\n### Confirm Tool Interface\n```\nTool: Confirm\nParameters:\n  - message: string (required) - What the bee wants to do\nReturns:\n  - confirmed: boolean - true if user confirmed, process killed if rejected\n```\n\nThe tool is **always available** to all bees (automatically injected via MCP).\n\n### User Flow\n\n1. **Bee calls Confirm** â†’ App receives tool call via MCP\n2. **Notification appears** with action buttons:\n   ```\n   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n   â”‚ Journal Bee                         â”‚\n   â”‚ Ready to write entry to journal.md  â”‚\n   â”‚          [Reject]  [Confirm]        â”‚\n   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   ```\n3. **User responds:**\n   - **Confirm** â†’ Send `{\"confirmed\": true}` to bee via stdin\n   - **Reject** â†’ Kill bee process\n   - **Dismiss** â†’ Treated as reject\n   - **Timeout** â†’ Auto-reject (default 5 min)\n\n### Timeout Behavior\n\n- **Default timeout**: 5 minutes\n- **Default action**: Auto-reject (kill process)\n- **Configurable per-bee** in hive.yaml:\n  ```yaml\n  bees:\n    my-bee:\n      timeout: 300        # seconds\n      timeout_action: reject  # reject | accept\n  ```\n\n### Process Model\n\nBees run in conversational mode (not `--print`) to support the confirm/continue flow:\n- App monitors stdout for MCP tool calls\n- On Confirm call, app shows notification and waits\n- User response (or timeout) determines next action\n- If confirmed, response piped via stdin, bee continues\n- If rejected, process terminated\n\n### Implementation Tasks\n- [ ] Create MCP server component in Swift\n- [ ] Implement Confirm tool handler  \n- [ ] Register notification actions (Confirm/Reject buttons)\n- [ ] Update BeeRunner for conversational mode (stdin pipe)\n- [ ] Implement timeout mechanism\n- [ ] Add per-bee timeout config to hive.yaml\n- [ ] Handle notification dismiss as reject\n\n## Future Enhancement: Full Reply Window\n\nDeferred to post-MVP:\n- AskUser tool with predefined choices + free text\n- Reply window UI (notification click â†’ window)\n- Richer response options beyond binary","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T10:16:25.970917-05:00","created_by":"nicktrombley","updated_at":"2026-01-02T13:57:00.063737-05:00","closed_at":"2026-01-02T13:57:00.063737-05:00","close_reason":"Implemented confirmation protocol with BEE:CONFIRM marker, session-based resume, and notification UI","dependencies":[{"issue_id":"bee-tfl","depends_on_id":"bee-mev","type":"blocks","created_at":"2026-01-02T10:16:33.992104-05:00","created_by":"nicktrombley"}]}
